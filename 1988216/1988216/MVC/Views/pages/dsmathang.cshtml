@using _1988216.MVC.Models;
@using _1988216.MVC.Controllers;
@{
    Layout = "~/MVC/Views/_Layout.cshtml";
    Page.Title = "Danh sách mặt hàng";

    C_MatHang c_MatHang = new C_MatHang();
    C_LoaiHang c_LoaiHang = new C_LoaiHang();
    List<MatHang> listMatHang = c_MatHang.getAllProduct();
    List<LoaiHang> listLoaiHang = c_LoaiHang.getAllCategory();

    @*IEnumerable<MatHang> list2 = listMatHang.Where(item => item.Id > 1);*@
}

<main>
    <div class="container-fluid">
        <!-- Section: Hoverable -->
        <section>

            <div class="card">
                <div class="card-body">

                    <!-- Table -->
                    <table class="table table-hover">

                        <!-- Table head -->
                        <thead class="mdb-color darken-3">
                            <tr class="text-white">
                                <th>Mã hàng</th>
                                <th>Tên mặt hàng</th>
                                <th>Hạn sử dụng</th>
                                <th>Công ty SX</th>
                                <th>Năm SX</th>
                                <th>Loại hàng</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <!-- Table head -->
                        <!-- Table body -->
                        <tbody>
                            @foreach (MatHang mh in listMatHang)
                            {
                                <tr>
                                    <th scope="row">@mh.Id</th>
                                    <td>@mh.TenMatHang</td>
                                    <td>@DateTime.Parse(mh.HanSD).GetDateTimeFormats()[9]</td>
                                    <td>@mh.CongTySX</td>
                                    <td>@DateTime.Parse(mh.NamSX).GetDateTimeFormats()[9]</td>
                                    <td>
                                        @{ 
                                            foreach(LoaiHang lh in listLoaiHang)
                                            {
                                                if(mh.LoaiHang == lh.Id)
                                                {
                                                    @lh.TenLoaiHang;
                                                    break;
                                                }
                                            }
                                        }
                                    </td>
                                    <td>
                                        Sửa | Xóa
                                    </td>
                            </tr>
                        }
                        </tbody>
                        <!-- Table body -->
                    </table>
                    <!-- Table -->

                </div>
            </div>

        </section>
        <!-- Section: Hoverable -->
    </div>
</main>
